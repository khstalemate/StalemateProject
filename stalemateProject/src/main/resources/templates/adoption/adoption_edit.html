<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>분양,입양 게시판 - 글 작성</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/board/adoption_edit.css">
</head>
<body>
    <th:block th:replace="~{common/header}"></th:block>

    <main class="page">
        <section class="form-shell">
            <h1 class="title-lg"
                th:text="${post == null} ? '분양 &amp; 입양 게시글 작성' : '분양 &amp; 입양 게시글 수정'">페이지 제목</h1>
            <form th:action="${post == null} ? @{/adoption/insert} : @{/adoption/{postNo}/update(postNo=${post.postNo})}"
                method="POST" enctype="multipart/form-data" id="postWriteForm">
                <div class="upload-box upload-box-spacing">
                    <label for="uploadImg" class="custom-file-upload">📷 사진 업로드 (클릭하여 파일 선택)</label>
                    <input type="file" name="uploadImg" id="uploadImg" accept="image/*" multiple>
                </div>

                <div class="form-field">
                    <label>제목</label>
                    <input type="text" class="form-control" name="postTitle"
                        placeholder="예: 골든 리트리버 '곰디' 실종"
                        th:value="${post != null} ? post.postTitle : ''">
                </div>

                <div class="form-row">
                    <div class="form-field">
                        <label>분양 / 입양 구분</label>
                        <select class="form-control" name="category">
                            <option value="분양"
                                    th:selected="${post != null and post.category == '분양'}">분양</option>
                            <option value="입양"
                                    th:selected="${post != null and post.category == '입양'}">입양</option>
                        </select>
                    </div>
                    <div class="form-field">
                        <label>입양 비용</label>
                        <input type="number" class="form-control" name="adoptFee"
                            placeholder="예: 0 (무료 입양은 0으로 입력)"
                            min="0"
                            th:value="${post != null} ? post.adoptFee : ''">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-field">
                        <label>동물 정보 (종)</label>
                        <select class="form-control" name="species">
                            <option value="dog" th:selected = "${post != null and post.species == 'dog'}">개</option>
                            <option value="cat" th:selected = "${post != null and post.species == 'cat'}">고양이</option>
                            <option value="etc" th:selected = "${post != null and post.species == 'etc'}">기타</option>
                        </select>
                    </div>
                    <div class="form-field">
                        <label>성별</label>
                        <select class="form-control" name="gender">
                            <option value="M" th:selected = "${post != null and post.gender == 'M'}">수컷</option>
                            <option value="F" th:selected = "${post != null and post.gender == 'F'}">암컷</option>
                            <option value="neutering" th:selected = "${post != null and post.gender == 'neutering'}">중성화</option>
                            <option value="unknown" th:selected = "${post != null and post.gender == 'unknown'}">알 수 없음</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-field">
                        <label>나이</label>
                        <select class="form-control" name="age">
                            <option value="0"  th:selected="${post != null and post.age == 0}">알 수 없음</option>
                            <option value="1"  th:selected="${post != null and post.age == 1}">0~3개월</option>
                            <option value="2"  th:selected="${post != null and post.age == 2}">4~6개월</option>
                            <option value="3"  th:selected="${post != null and post.age == 3}">7~12개월(1살)</option>
                            <option value="4"  th:selected="${post != null and post.age == 4}">13~18개월</option>
                            <option value="5"  th:selected="${post != null and post.age == 5}">19~24개월(2살)</option>
                            <option value="6"  th:selected="${post != null and post.age == 6}">2살~3살</option>
                            <option value="7"  th:selected="${post != null and post.age == 7}">3살~4살</option>
                            <option value="8"  th:selected="${post != null and post.age == 8}">4살~5살</option>
                            <option value="9"  th:selected="${post != null and post.age == 9}">5살~6살</option>
                            <option value="10" th:selected="${post != null and post.age == 10}">6살~7살</option>
                            <option value="11" th:selected="${post != null and post.age == 11}">7살~8살</option>
                            <option value="12" th:selected="${post != null and post.age == 12}">8살 이상</option>
                        </select>
                    </div>
                    <div class="form-field">
                        <label>체중</label>
                        <select class="form-control" name="weight">
                            <option value="0" th:selected="${post != null and post.weight == 0}">알 수 없음</option>
                            <option value="1" th:selected="${post != null and post.weight == 1}">초소형(3kg 미만)</option>
                            <option value="2" th:selected="${post != null and post.weight == 2}">소형(3~8kg)</option>
                            <option value="3" th:selected="${post != null and post.weight == 3}">중형(8~15kg)</option>
                            <option value="4" th:selected="${post != null and post.weight == 4}">대형(25~40kg)</option>
                            <option value="5" th:selected="${post != null and post.weight == 5}">초대형(40kg 초과)</option>
                        </select>
                    </div>
                </div>

                <div class="form-field">
                    <label>특징</label>
                    <textarea class="form-control"
                            rows="4"
                            name="content"
                            th:text="${post != null} ? post.content : ''"
                            placeholder="예: 밝은 황금색 털, 왼쪽 귀에 작은 흰색 반점, 겁이 많고 사람을 잘 따름"></textarea>
                </div>

                <div class="form-actions">
                    <button class="btn btn-primary"
                        th:text="${post==null} ? '등록' : '수정'">등록</button>
                    <button type="button" class="btn btn-ghost" id="cancleBtn">취소</button>
                </div>
            </form>
        </section>
    </main>

    <th:block th:replace="~{common/footer}"></th:block>

    <script src="/js/board/adoption_edit.js"></script>
</body>
</html>

